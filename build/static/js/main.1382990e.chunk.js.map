{"version":3,"sources":["components/Error/error.module.scss","components/HeroRate/heroRate.module.scss","components/GameApp/gameApp.module.scss","components/NewUser/newUser.module.scss","components/GiftCart/giftbox.png","components/Error/bug.png","apiGraphQl.js","api.js","components/NewUser/NewUser.js","components/BottomMenu/BottomMenu.js","components/Loader/Loader.js","components/HeroRate/HeroRate.js","components/Snackbars/Snackbars.js","components/GiftCart/GiftCart.js","components/ProfileContent/ProfileContent.js","components/Store/Store.js","components/Message/Message.js","components/Chatroom/Chatroom.js","components/GameApp/GameApp.js","components/Error/Error.js","App.js","index.js","components/ProfileContent/profileContent.module.scss","components/GiftCart/giftCart.module.scss"],"names":["module","exports","httpLink","HttpLink","uri","process","REACT_APP_SERVER","authLink","ApolloLink","operation","forward","token","sessionStorage","getItem","setContext","headers","Authorization","wsLink","WebSocketLink","options","reconnect","splitLink","split","query","definition","getMainDefinition","kind","concat","blabberClient","ApolloClient","credentials","link","cache","InMemoryCache","GET_TOKENS","gql","MY_USER","GIFTS","BUY_OR_USE_GIFT","GET_CHATROOM_HISTORY","SEND_MESSAGE","NEW_MESSAGES_SUBSCRIPTION","BlabberRestAPI","apiBase","url","fetch","this","res","ok","Error","status","json","response","notErrorArray","includes","code","body","method","JSON","stringify","string","getStatus","id","name","surname","postData","first_name","last_name","NewUser","user","setStatus","setLoading","setError","activePanel","className","styles","new","header","action","size","onClick","api","BlabberAPI","postApply","then","catch","err","console","log","finally","BottomMenu","setActivePanel","menu","text","children","map","item","index","key","selected","Loader","HeroRate","hero","profileStyles","roundedContainer","style","display","flexDirection","background","padding","width","position","zIndex","coin","coins","cristall","capacity","heroClass","BaseSnackbar","icon","iconColor","setSnackbar","layout","onClose","before","SuccessSnackbar","fill","height","ErrorSnackbar","GiftCart","gift","isBackpack","setPopout","refetchStore","refetchMyUserState","imageUrl","image","defaultImage","useGift","alertBody","isActive","buttonName","alertButtonName","lookup","quantity","giftClassId","giftClass","buyGift","price","canBuy","remain","giftCase","showSnackbar","data","isApolloError","useMutation","onCompleted","onError","error","mutateGift","loading","closePopout","confirmActionPopout","actions","title","autoclose","mode","variables","declineActionPopout","isGroupWide","giftContainer","isTooExpensive","giftContainerImg","src","alt","giftInfoPanel","marginTop","defaultProps","ProfileContent","userPhotoUrl","alignItems","justifyContent","marginRight","marginLeft","textAlign","subtitle","level","skills","skill","slideWidth","bullets","backpack","boughtGift","Store","refetch","message","giftsGroup","availableGifts","availableGroupGifts","MessageCard","datetimeCreated","Date","separator","author","lastName","firstName","fontSize","color","getHours","getMinutes","Chatroom","userId","chatRoomId","chatroomHistory","subscribeToNewMessages","loadingMore","LoadMoreMessages","useState","messageText","setMessageText","client","sendMessage","messagesEndRef","useRef","window","onscroll","document","documentElement","scrollTop","useEffect","current","scrollIntoView","block","inline","behavior","paddingBottom","Message","top","type","placeholder","value","onChange","event","target","margin","chatroomId","authorId","ref","GameApp","popout","snackbar","useQuery","myUserData","useLazyQuery","notifyOnNetworkStatusChange","loadHistory","called","subscribeToMore","loadingHistory","chatroomHistoryData","fetchMore","myUser","learningGroups","batchSize","datetimeCursor","tabbar","activePanelName","setItem","photo_200","updateQuery","prev","fetchMoreResult","Object","assign","subscriptionData","onNewChatMessage","newMessage","ErrorIndicator","details","userStatusesMapper","400","401","403","App","errorMessage","setErrorMessage","location","useLocation","search","authStr","isKnownUser","setIsKnownUser","setUser","signedPassword","setSignedPassword","a","bridge","send","userFromVK","fetchData","getAuth","result","password","mutate","mutation","username","errorPolicy","tokenAuth","ReactDOM","render","exact","path","getElementById"],"mappings":"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","file":"static/js/main.1382990e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"error_error__21KV4\",\"text\":\"error_text__y82IP\",\"details\":\"error_details__7Dpex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coin\":\"heroRate_coin__2cxWn\",\"cristall\":\"heroRate_cristall__1Po9c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"giftsGroup\":\"gameApp_giftsGroup__348Y-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new\":\"newUser_new__2RCXx\"};","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAOW0lEQVR4nO1de3RUxRlfoFZFW+tba6unp562nurpOf3mJmwAjQ9ehzBzN3B5CQKCEQQSjq8yc3fxhkB4RyCARkBCHiSEd8gTYimCFlt8HEEQSwi1rY/THipVAQVm+sfmbm42m+Tu7r17d0l+53z/QGb2+77fndc338y4XN3oRje60Y1udKMb0YBhdIpi4JrivtdpXYwQQvRgGF1kGF0UQvRwWp+YgWLgFANnBM1zWhcjNE/KbbpumuK+yWl9YgZK0CW/4ehopHVUKEov5kH3MwJTKJHmMCxl0XTUV5uYek2kdaoemKATUqEovSKtJ+FACarWDS/IgKvCKavKUgbD8K1eXiWIez0SV2XE9X+jBF1iGBVoWuoPwtTrnL/lwnfhWZTg0JTU6w3d1qdmyng9SWmMwGWKgec98ZAozkoTpbOGhZQ1Ux4TKkF6/SvN1M8IygvoJEvjorMwAcEIrG35ouHDjv8WvUUx8OUTU9slIZSsnTpINH/xX2uK8sN268cwN0AGhn9bb22CgGE43uIIdJ6lw53Bf0Mx+pxh4EWZQ8Miwyja8GTOCFzWlNTrjXVXKEovitFRgw4Xu9TYEQoMw4FAS/F3Me8swn1/5P8/dIoRxCMlwig5Sh/OCFyuUJRemqb1pBjlt/5d+DrcMeeKhXF2Y3QQxcBLOhgrwhWfR+IUw4U2v4Vhs9M+iDv4v1rYbXTUummDLSOjdNYwUTJrmAgi/bQ2Bm5x2va4RoWi9KIEnctR+ljSVQXL6imPCoqBa3LqT5y2NSGgKu67rO6qgoUR4CqBbKdtNQVNcd+rEsh06vcpgUPZw5NtaR265D/5iKAEXXLKRi9G2IsRNvXHLStgZ0gJZ+woyUoTRZlDRdHMoaIoc6gozkoTJSZJoRi4E+PHQgVu0H28UIEbOi1gmJO/FAP9WkFTpDsohjatY/0zg8WScf25z5PEg2dIHYlXlviC0X15wdMDRUlW6zpVGXGGYW7MbRwDtwQCmGY+CCcJYQRNVwniJbOGiRWTHhbG+NS80W6+8YVh/I8rJ4r3iqaLo+WZ4qPNWW3kaHmW+KB0hjjw6hSx2ZcuFj/RnzMSmFXxJY/350WZaWLx2P6cYXQq1jYmGCFQF+gyZcSLZxPxfvH0kI4PV46UZYrK3NEiW+mjrz04w+hirG1MCEI0xX0Tw/BPioHnTUrl7258xhISOiJnw3ND9VbzneqBfjGzNd4JoQQV6UQcKZtpKxGhpOhF3LxYRI2xCJ1EQYi9A542MfUahuFbRhA/tO7pmBMR3GLmj07hFAP3yclgq93h7koawgprbVMqPflnFANfOvEh7iQRwVKmevytRUaT7bLdK8MvA4RkQO9OCwS2VwnaZ4dCVOl/K8XA180aEldk6NKw/AlBMXDVAxPssJ9heDhAiKb17NxhGM40t5DPrFZG07SejMDlV2cMiksydNmTN97fUobDb6z2AZMlqhNiroC+P2FDaIESdCJnlDuuydCl8IVhghG4bLUPGEH7w/KvSiAzLAZNwicnA8XAj5SFXtDFo3g9EmcEbbTSD3qCBiNw2lQBDff9acssAO62ThF0Nl7Hjfbk4KtTBMXArUyaM8xic8MvZDJjozNoGdA70VqHLowgrspovBV+8CpJv4joY6cEvmzu585ZoYgqoxlej5RQrUOX1zIHc4pRoxV+oASVRzQcqLKUoRfMU9zXWqDI2/kZjyYkIfvyJ1q2d6LnlTGCPg6roD89JhBCKbBAkc9KKUlIQg4XThNWTHC8nj73BbYG0lHfsCugGDVaNdvqJsTlogSaovKnF6NfGwb36ZHUoXlSbmMEqhhGFxO6y8LAKYHDXhmlRuQHxX2TwZerIqnD5XK5XJSg/0XKKpXRixQDz3lyAF9Gx/FEHtTnjH2QL35W4RH1/y6XixE4HVa4pN2KPOj+QL9HUHm45SreWCfqmxpEzYkakcjT3o2bF4n6pgZRe6JWUII4xWiTWV+oHuhnWHusiYwJAyhBJwLsepJ+ZaoMhgur87JEfVNDQLwjU+I2oNie6AtDox07DpX5EyQ6SN7WIYTo0TKzsigMU5ABVxlC8pc7S0ZmHjQg2Ij6pgaxdX9hwrUSr0fiK3KmtLEle/zDnGJ4ozPfGbuqiGZW7UEl0jDDNPhsh0pg9MWqpZki2Ij6pgaRM3kQT5Tg4sbn0zglqA0Zxo+rIz9QQ1osI1BlGRkGRxcbUmzOtBffoRh4zfHqkITUn9orKEE8UcLvOw5tCm1HU4P/3Ek6/D6krwiqNIwb9p03YRgdNLSUi6rivqvV/6fDnaG6K6NUHdkp4nmDau/L/g2qjeUL27WhvqlBeJUUTgmUGO1vXlD/3TAROmf7aV7j+UC9OeoDHJXRZN+ovh0SUt/UICrf3ybieQu3cFNuh/rXNzWIZXQcpwS+bPELzDb6paNexHpSZJgW9OOcYXSWEvjXolnDOyWkvqlB1H5SK9ThfXi8JDnMa05y2Lq/sFPd65saRFHFYsEIXGYEfRrCFzUxIcKIPMV9LSNwLFiZ1cuyTBmky4qcKf4gpmNpQP4837mTBvC6xj2m9d717hYRbDvF8I3X0+e+mJNhhJYBvZkMyxlGZykGXrJzeViE1Dc1iKqjlULzTyX5slglyj3bnCjnSeIVDWvD1rnuZL1OyAVGoEpNT7nHUSJCgWLg298qDtu4wNjy3laRM3mQbamku3JHi+wRyf5EbCWFl9e+ErGu+kwrmosKbAfFwCvf3xaVkfVNDaKucY9Yv+El4R2ZEugOcka5eeHzaeaSrUtmiAOvTBbl3nSxaLwh2VqWeP6Cqbz6eFXUOuqEmDpS4BQoBr77w52WGBuQU3vFtoPFYtWiaVwbl8opQcH9drviG9WXL2PjeFntGlF3st5avZoJyfUk3ey039sFxcCrjuyy3PD2iKr9pFZUH9stqo7uEtUfVYqaEzUinIHZCkLi+tConxCLW0gcS0K0ECvGkESRhBhDOor/XGkS/7Msgi5t3lPguKNiIXWn9oqodwDtBsXwzYaS+Y47Kxai74I67fMOQTFqzF84zVQsK9Fl5183xz8hjMCO3GlpXYKQkh0vi7i/eU4l0jPeEe4uQUj+gqn2HavWFPe9Zle/ZsRpZ8VC5k4aYJm/2mTCG8+EWCGxXC07JSyMEE6nhIQ6K6ISyGQYvRStUAx828HII76JIs1f9lwL/OU1k1IUMRhBn17pM62dfymP/xmWDkaQ6h2ZckUTsmrJdFsOxdqCXE/SzVf6wO4d4eZURi867WvToNh8skDCSXPIRL85NSFACRxaONNzRbaS0soVjt5GFxF8nqTfXandVvb4RzgjUOq0j8MGxcC37Hs9Jk6KVfcYiPAm4lMWDKOd2RMejUkrWbfeFxNC1q71CobRead9GxG0x5N/TDHw2r/V2e6o5dqkmBDPZIlTLD3ltG8jBsPoi5d9E2x3ViwizFv2rU+cxWB78A2Xfksx8PpTe2111pyxD9pOiFdJseSIuCPQNK2nKksZjMB/KYaQp5CsFDU92db6t75ZqJ/E/Z4SWGHq4rF4gEqknzOCjoSMANuQqKYLJYjXnbQvwqymJ4eK0p7xepIecdrnIdF8S8GZtnF+dJFhVEAxapw/dahtXzHFwKuP7bal7g0l8wQjcFmV0Sw9obyVEHRJxdLjTnPgcrmaZ1IE/aNtfB/t1xTpDv3v8hT3tRQD3/qmPesFioHveKfM8nrrGvcIioEb72lfOXPI1RSjfP10bQsx8L0vXZKcYcLlcgW/UNNMxMr20mJUAtntHaK0wmlltWssJ2TelMEdXjSmymgMw+hikA+OxDQ1SMuA3vrrN4YtyAozx7cohjMLZsiWklLzcbWgGPjrG7MtJaNwU66g2NyzfqFOlMWktfgIJAc1068WjO13o9ny2sTUaygGvqE4xzLH7TpcISgGvmrxdMuI3v3hDn9XRaTHzNomhOhBCXrb6B+VwILIPG0CXiJNav0VoPxI6tGvmtj+51JLnLd572uCYuCLnxtpCSF1jXuar8+AwkjsYyRpUNB+eV0k9XQIFcPU1sxLKdHUx2TwUQy86mhl9F1Lqb9ryXlyoCWEeEe4OcNwPBr7lowfeB0j8J2hSz8QTX2toF+VEah8TPLtVtRLCZT4p6vRnWZanZclKAbuG9n5cezOZM7o/pYd9Pd3YfCVYbAvi7rSBWP73Wgkw+qzEAyjbRQDr/wg8iMMS/8w1m+wLEVOyKm9/uNzBP3HSvtcrtZXXEX9pCvD6LxemV3HfRmGNdFMW+c9NTiqBL3qY7v9UVwCTXbYV6EovYxrliXjB14XUUXGx3opgdkW69n6t2RpHMXAV8ydHLZTfaP7RUxI8fZl+lu5O+y0T1PgbkP04ouwKzBegmlHMw4FNib5dkrgezU9mVe+t9W0U5nhXSqzUeW6k3vEvKeG+MvJIMfEPowKAmsUT5I73MItN/8o/W+1ScfQv02glGLgC2bIvPaTzje3jGNcrYkA5uplWS0PuNiZMRjaNv0ys6/DKmhoXjF/NMvl0p+W89+KOv/poXzXu1tMEVJ1NPQJ4JoTNWJ59mTdpvNOxZxUIj0f9ofuI/BAoGkReMBmHTuENgZuYQS909x18qWzx/Itf9rQ6uizkZDtb5cEZk27DleI1Utn8EDonMCXqoySnLRHCNHD8LEXmyqkT0Upjp/tSiFEDyajIYygI8YZi3921JKFztq8c4g+Z1jKMhOPihUYgc+a9btgroAe8zfcBRVvqFCUXmp6yj1eT1Iaw1IWJdIchtELTJZGej197ls5c8jVTuvYHlQC2WF98IaBZ7vNunVJ6O+oUAzc1IcTiFfJUk4M9OtyiPyVNgde+uwKiPuHJbsaIiaEYvDGQL8uB/38jOlgLcOQywicjvUqtiuBYXSQYXTQaT260Qn+D6k6vwmGL854AAAAAElFTkSuQmCC\"","import {\n  ApolloClient, InMemoryCache, HttpLink, gql, ApolloLink,\n} from 'apollo-boost';\nimport { WebSocketLink } from '@apollo/client/link/ws';\nimport { getMainDefinition } from '@apollo/client/utilities';\nimport { split } from '@apollo/client';\n\nconst httpLink = new HttpLink({ uri: `https://${process.env.REACT_APP_SERVER}/graphql` });\n\nconst authLink = new ApolloLink((operation, forward) => {\n  const token = sessionStorage.getItem('token');\n  operation.setContext({\n    headers: {\n      Authorization: token ? `JWT ${token}` : '',\n    },\n  });\n  return forward(operation);\n});\n\nconst wsLink = new WebSocketLink({\n  uri: `wss://${process.env.REACT_APP_SERVER}/ws/graphql/`,\n  options: {\n    reconnect: true,\n  },\n});\n\nconst splitLink = split(\n  ({ query }) => {\n    const definition = getMainDefinition(query);\n    return (\n      definition.kind === 'OperationDefinition'\n      && definition.operation === 'subscription'\n    );\n  },\n  wsLink,\n  authLink.concat(httpLink),\n);\n\nconst blabberClient = new ApolloClient({\n  credentials: 'include',\n  link: splitLink,\n  cache: new InMemoryCache(),\n});\n\nconst GET_TOKENS = gql`\n  mutation TokenAuth($username: String!, $password: String!) {\n    tokenAuth(username: $username, password: $password) {\n      token\n      refreshToken\n    }\n  }`;\n\nconst MY_USER = gql`\n  query {\n    myUser{\n      id\n      learningGroups {\n        id\n      }\n      hero {\n        coins\n        capacity\n        heroClass {\n          capacity\n          name\n          level\n          skills {\n            id\n            name\n          }\n        }\n        backpack {\n          id\n          name\n          quantity\n          price\n          image\n          giftClass {\n            id\n          }\n        }\n      }\n    }\n}`;\n\nconst GIFTS = gql`\n  query {\n    availableGifts(isGroupWide: false){\n      id\n      name\n      price\n      remain\n      canBuy\n      isGroupWide\n  } availableGroupGifts: availableGifts(isGroupWide: true){\n      id\n      name\n      price\n      remain\n      canBuy\n      isGroupWide\n  }\n}`;\n\nconst BUY_OR_USE_GIFT = gql`\n  mutation BuyOrUseUserGiftMutation($giftClassId:Int!, $quantity:Int!){\n    buyOrUseGift(giftClassId: $giftClassId, quantity: $quantity){\n        userGift {\n            id\n        }\n    }\n}`;\n\nconst GET_CHATROOM_HISTORY = gql`\n  query History($chatroomId: String!, $batchSize: Int!, $datetimeCursor: String!) {\n    chatroomHistory(chatroomId: $chatroomId, batchSize: $batchSize, datetimeCursor: $datetimeCursor) {\n      id\n      datetimeCreated\n      text\n      author {\n        firstName\n        lastName\n        hero {\n          heroClass {\n            name\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst SEND_MESSAGE = gql`\nmutation SendMessageMutation($chatroomId: String!, $authorId: Int!, $text: String!) {\n  sendChatMessage(chatroomId: $chatroomId, authorId: $authorId, text: $text){\n    message {\n     id\n    }\n  }\n}`;\n\nconst NEW_MESSAGES_SUBSCRIPTION = gql`\nsubscription OnNewChatMessage($chatroomId: String!) {\n  onNewChatMessage(chatroomId: $chatroomId){\n    message {\n      id\n      datetimeCreated\n      text\n      author {\n        firstName\n        lastName\n        hero {\n          heroClass {\n            name\n          }\n        }\n      }\n    }\n  }\n}`;\n\nexport {\n  blabberClient, GET_TOKENS, MY_USER, GIFTS, BUY_OR_USE_GIFT,\n  GET_CHATROOM_HISTORY, SEND_MESSAGE, NEW_MESSAGES_SUBSCRIPTION,\n};\n","class BlabberRestAPI {\n  apiBase = `https://${process.env.REACT_APP_SERVER}/api/v1/`;\n\n  // basic methods\n  async getResource(url) {\n    const res = await fetch(`${this.apiBase}${url}`);\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url}, status: ${res.status}`);\n    }\n    const response = await res.json();\n    return response;\n  }\n\n  async getStatus(url, notErrorArray = []) {\n    const res = await fetch(`${this.apiBase}${url}`);\n    if (!res.ok && !notErrorArray.includes(res.status)) {\n      throw new Error(`Could not fetch ${url}, status: ${res.status}`);\n    }\n    return { code: res.status, body: res.json() };\n  }\n\n  async postData(url, body) {\n    const res = await fetch(`${this.apiBase}${url}`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json;charset=utf-8' },\n      body: JSON.stringify(body),\n    });\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url}, status: ${res.status}`);\n    }\n    return res.ok;\n  }\n\n  // app methods\n  getAuth(string) {\n    return this.getStatus(`vk_auth/${string}`, [400, 401, 403]);\n  }\n\n  postApply(id, name, surname) {\n    return this.postData('apply/', { code: id, first_name: name, last_name: surname });\n  }\n}\n\nexport default BlabberRestAPI;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  View, Panel, PanelHeader, Placeholder, Button,\n} from '@vkontakte/vkui';\nimport styles from './newUser.module.scss';\n\nimport BlabberAPI from '../../api';\n\nconst NewUser = ({\n  user, status, setStatus, setLoading, setError,\n}) => {\n  const buttonSendRequestHandler = () => {\n    setLoading(true);\n    const api = new BlabberAPI();\n    if (user && user.id) {\n      api.postApply(user.id, user.first_name, user.last_name)\n        .then(() => {\n          setStatus('applied');\n        })\n        .catch((err) => {\n          // eslint-disable-next-line no-console\n          console.log(err);\n          setError(true);\n        })\n        .finally(() => {\n          setLoading(false);\n        });\n    } else {\n      // eslint-disable-next-line no-console\n      console.log('id пустой - не могу отправить данные');\n    }\n  };\n\n  return (\n    <View activePanel=\"unknown_user\" className={styles.new}>\n      <Panel id=\"unknown_user\">\n        {status === 'applied'\n          ? (\n            <Placeholder header=\"Ваша заявка находится на рассмотрении\">\n              Нужно просто подождать...\n              Еще чуть-чуть и можно будет играть!\n            </Placeholder>\n          ) : (\n            <>\n              <PanelHeader>Профенж</PanelHeader>\n              <Placeholder\n                header=\"Подай заявку на участие в игре\"\n                action={<Button size=\"l\" onClick={buttonSendRequestHandler}>Хочу играть!</Button>}\n              >\n                Эта игра разработана для учеников ПрофЦентра.\n                Чтобы участвовать, нужно подать заявку и дождаться решения администратора.\n              </Placeholder>\n            </>\n          )}\n      </Panel>\n    </View>\n  );\n};\n\nNewUser.propTypes = {\n  user: PropTypes.shape({\n    id: PropTypes.number,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n  }).isRequired,\n  status: PropTypes.string.isRequired,\n  setStatus: PropTypes.func.isRequired,\n  setLoading: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nexport default NewUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Tabbar, TabbarItem } from '@vkontakte/vkui';\nimport Icon24UserOutline from '@vkontakte/icons/dist/24/user';\nimport Icon24ChatsOutline from '@vkontakte/icons/dist/24/chats';\nimport Icon24Gift from '@vkontakte/icons/dist/24/gift';\n\nconst BottomMenu = ({ activePanel, setActivePanel }) => {\n  const menuData = [\n    { id: 'profile', text: 'Профиль', children: <Icon24UserOutline /> },\n    { id: 'chat', text: 'Чат', children: <Icon24ChatsOutline /> },\n    { id: 'store', text: 'Магазин', children: <Icon24Gift /> },\n  ];\n\n  const menu = menuData.map((item, index) => (\n    <TabbarItem\n      // eslint-disable-next-line react/no-array-index-key\n      key={index}\n      text={item.text}\n      onClick={() => setActivePanel(item.id)}\n      selected={activePanel === item.id}\n    >\n      {item.children}\n    </TabbarItem>\n  ));\n\n  return (\n    <Tabbar>{menu}</Tabbar>\n  );\n};\n\nBottomMenu.propTypes = {\n  activePanel: PropTypes.string.isRequired,\n  setActivePanel: PropTypes.func.isRequired,\n};\n\nexport default BottomMenu;\n","import React from 'react';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport { View, Panel, Placeholder } from '@vkontakte/vkui';\n\nconst Loader = () => (\n  <View activePanel=\"loading\">\n    <Panel id=\"loading\">\n      <Placeholder header=\"Ждем ответа от сервера\">\n        <ScreenSpinner size=\"large\" />\n      </Placeholder>\n    </Panel>\n  </View>\n);\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Div } from '@vkontakte/vkui';\n\nimport styles from './heroRate.module.scss';\nimport profileStyles from '../ProfileContent/profileContent.module.scss';\n\nconst HeroRate = ({ hero }) => (\n  <div\n    className={profileStyles.roundedContainer}\n    style={{\n      display: 'flex',\n      flexDirection: 'row',\n      background: 'lightgrey',\n      padding: 0,\n      width: '100%',\n      position: 'fixed',\n      zIndex: 12,\n    }}\n  >\n    <Div>\n      <span className={styles.coin} />\n      {hero.coins}\n    </Div>\n    <Div>\n      <span className={styles.cristall} />\n      {hero.capacity}\n      /\n      {hero.heroClass.capacity}\n    </Div>\n  </div>\n\n);\n\nHeroRate.propTypes = {\n  hero: PropTypes.shape({\n    coins: PropTypes.number.isRequired,\n    capacity: PropTypes.number.isRequired,\n    heroClass: PropTypes.shape(\n      {\n        capacity: PropTypes.number.isRequired,\n      },\n    ).isRequired,\n  }).isRequired,\n};\n\nexport default HeroRate;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Snackbar, Avatar,\n} from '@vkontakte/vkui';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\n\nconst BaseSnackbar = ({\n  icon, text, iconColor, setSnackbar,\n}) => (\n  <Snackbar\n    layout=\"vertical\"\n    onClose={() => setSnackbar(null)}\n    before={<Avatar size={24} style={{ background: iconColor }}>{icon}</Avatar>}\n  >\n    {text}\n  </Snackbar>\n);\n\nconst SuccessSnackbar = ({ setSnackbar }) => (\n  <BaseSnackbar\n    icon={<Icon16Done fill=\"#fff\" width={14} height={14} />}\n    iconColor=\"green\"\n    text=\"Готово!\"\n    setSnackbar={setSnackbar}\n  />\n);\n\nconst ErrorSnackbar = ({ setSnackbar }) => (\n  <BaseSnackbar\n    icon={<Icon16Clear fill=\"#fff\" width={14} height={14} />}\n    iconColor=\"red\"\n    text=\"Ошибка(\"\n    setSnackbar={setSnackbar}\n  />\n);\n\nBaseSnackbar.propTypes = {\n  icon: PropTypes.element.isRequired,\n  iconColor: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  setSnackbar: PropTypes.func.isRequired,\n};\n\nErrorSnackbar.propTypes = {\n  setSnackbar: PropTypes.func.isRequired,\n};\n\nSuccessSnackbar.propTypes = {\n  setSnackbar: PropTypes.func.isRequired,\n};\n\nexport {\n  ErrorSnackbar, SuccessSnackbar,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Alert,\n} from '@vkontakte/vkui';\nimport { useMutation } from '@apollo/react-hooks';\nimport { isApolloError } from 'apollo-boost';\n\nimport { BUY_OR_USE_GIFT } from '../../apiGraphQl';\nimport Loader from '../Loader/Loader';\nimport { ErrorSnackbar, SuccessSnackbar } from '../Snackbars/Snackbars';\nimport styles from './giftCart.module.scss';\nimport defaultImage from './giftbox.png';\n\nconst GiftCart = ({\n  gift, isBackpack, setPopout, setSnackbar, refetchStore, refetchMyUserState,\n}) => {\n  const imageUrl = gift.image ? gift.image : defaultImage;\n  const useGift = {\n    alertBody: `Использовать \"${gift.name}\"?`,\n    isActive: true,\n    buttonName: 'Использовать',\n    alertButtonName: 'Да, давай!',\n    lookup: `${gift.quantity} шт.`,\n    giftClassId: gift.giftClass ? gift.giftClass.id : null,\n    quantity: -1,\n  };\n  const buyGift = {\n    alertBody: `Купить \"${gift.name}\" за ${gift.price} профкоинов?`,\n    isActive: gift.canBuy,\n    buttonName: 'Купить',\n    alertButtonName: 'Беру!',\n    lookup: gift.remain != null ? `${gift.remain} шт.` : '',\n    giftClassId: gift.id,\n    quantity: 1,\n  };\n  const giftCase = isBackpack ? useGift : buyGift;\n\n  const showSnackbar = (data) => {\n    if (isApolloError(data)) setSnackbar(<ErrorSnackbar setSnackbar={setSnackbar} />);\n    else {\n      refetchMyUserState();\n      if (refetchStore) refetchStore();\n      setSnackbar(<SuccessSnackbar setSnackbar={setSnackbar} />);\n    }\n  };\n  const [mutateGift, { loading }] = useMutation(\n    BUY_OR_USE_GIFT,\n    {\n      onCompleted: (data) => showSnackbar(data),\n      onError: (error) => showSnackbar(error),\n    },\n  );\n\n  const closePopout = () => {\n    setPopout(null);\n  };\n\n  const confirmActionPopout = (\n    <Alert\n      actions={[{\n        title: 'Назад',\n        autoclose: true,\n        mode: 'cancel',\n      }, {\n        title: giftCase.alertButtonName,\n        autoclose: true,\n        action: () => mutateGift(\n          {\n            variables: { giftClassId: giftCase.giftClassId, quantity: giftCase.quantity },\n          },\n        ),\n      }]}\n      onClose={closePopout}\n    >\n      <h2>Подтвердите действие</h2>\n      <p>\n        {giftCase.alertBody}\n      </p>\n    </Alert>\n  );\n  const declineActionPopout = (\n    <Alert\n      actions={[{\n        title: 'Назад',\n        autoclose: true,\n        mode: 'cancel',\n      }]}\n      onClose={closePopout}\n    >\n      <h2>Действие нельзя выполнить</h2>\n      <p>\n        У\n        {gift.isGroupWide ? ' когото-то из группы ' : ' вас '}\n        недостаточно профкоинов для покупки\n      </p>\n    </Alert>\n  );\n\n  if (loading) return <Loader />;\n\n  return (\n    <div\n      className={`${styles.giftContainer} ${giftCase.isActive ? '' : styles.isTooExpensive}`}\n    >\n      <div>\n        <div className={styles.giftContainerImg}>\n          <img src={imageUrl} alt=\"gift box\" />\n        </div>\n        <div className={styles.giftInfoPanel}>\n          <div>\n            <span className={styles.coin} />\n            {gift.price}\n          </div>\n          <div>{giftCase.lookup}</div>\n        </div>\n        <div>{gift.name}</div>\n      </div>\n      <Button\n        style={{ marginTop: 12 }}\n        onClick={() => setPopout(giftCase.isActive ? confirmActionPopout : declineActionPopout)}\n      >\n        {giftCase.buttonName}\n      </Button>\n    </div>\n  );\n};\n\nGiftCart.propTypes = {\n  gift: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    canBuy: PropTypes.bool.isRequired,\n    name: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    remain: PropTypes.number,\n    image: PropTypes.string,\n    quantity: PropTypes.number,\n    isGroupWide: PropTypes.bool.isRequired,\n    giftClass: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }),\n  isBackpack: PropTypes.bool,\n  setPopout: PropTypes.func.isRequired,\n  setSnackbar: PropTypes.func.isRequired,\n  refetchMyUserState: PropTypes.func.isRequired,\n  refetchStore: PropTypes.func,\n};\n\nGiftCart.defaultProps = {\n  isBackpack: false,\n  gift: {\n    remain: null,\n    giftClass: {\n      id: null,\n    },\n  },\n  refetchStore: null,\n};\n\nexport default GiftCart;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Avatar, Header, Div, Gallery,\n} from '@vkontakte/vkui';\n\nimport GiftCart from '../GiftCart/GiftCart';\nimport styles from './profileContent.module.scss';\n\nconst ProfileContent = ({\n  userPhotoUrl, hero, setPopout, setSnackbar, refetchMyUserState,\n}) => (\n  <Div>\n    <Div\n      className={styles.roundedContainer}\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n        width: '50%',\n        marginTop: 45,\n        marginRight: 'auto',\n        marginLeft: 'auto',\n      }}\n    >\n      <Avatar size={96} src={userPhotoUrl} />\n      <Header mode=\"primary\" style={{ textAlign: 'center' }} subtitle={`Уровень ${hero.heroClass.level}`}>\n        {hero.heroClass.name}\n      </Header>\n      <Div>\n        {\n          // eslint-disable-next-line react/prop-types\n          hero.heroClass.skills.map(\n            // eslint-disable-next-line max-len\n            (skill) => <Div key={skill.id} className={styles.roundedContainer}>{skill.name}</Div>,\n          )\n        }\n        <Div className={styles.roundedContainer}>\n          Here will appear new hero`s skills\n        </Div>\n      </Div>\n    </Div>\n    <Header mode=\"secondary\">Инвентарь</Header>\n    <Gallery\n      slideWidth=\"custom\"\n      style={{ height: 310, marginTop: 12 }}\n      bullets=\"dark\"\n    >\n      {\n        // eslint-disable-next-line react/prop-types\n        hero.backpack.map(\n          (boughtGift) => (\n            <GiftCart\n              key={boughtGift.id}\n              gift={boughtGift}\n              setPopout={setPopout}\n              setSnackbar={setSnackbar}\n              refetchMyUserState={refetchMyUserState}\n              isBackpack\n            />\n          ),\n        )\n      }\n    </Gallery>\n  </Div>\n);\n\nProfileContent.propTypes = {\n  userPhotoUrl: PropTypes.string.isRequired,\n  hero: PropTypes.shape(\n    {\n      coins: PropTypes.number.isRequired,\n      capacity: PropTypes.number.isRequired,\n      heroClass: PropTypes.shape(\n        {\n          name: PropTypes.string,\n          level: PropTypes.number,\n          skills: PropTypes.shape(\n            {\n              name: PropTypes.string,\n            },\n          ).isRequired,\n        },\n      ).isRequired,\n      backpack: PropTypes.shape(\n        {\n          id: PropTypes.string,\n          name: PropTypes.string,\n          price: PropTypes.number,\n          image: PropTypes.string,\n          quantity: PropTypes.number,\n        },\n      ).isRequired,\n    },\n  ).isRequired,\n  setPopout: PropTypes.func.isRequired,\n  setSnackbar: PropTypes.func.isRequired,\n  refetchMyUserState: PropTypes.func.isRequired,\n};\n\nexport default ProfileContent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Header, Div,\n} from '@vkontakte/vkui';\nimport { Query } from 'react-apollo';\n\nimport { GIFTS } from '../../apiGraphQl';\nimport GiftCart from '../GiftCart/GiftCart';\nimport Loader from '../Loader/Loader';\nimport styles from '../GameApp/gameApp.module.scss';\n\nconst Store = ({ setPopout, setSnackbar, refetchMyUserState }) => (\n  <Query query={GIFTS}>\n    {\n      ({\n        loading, error, data, refetch,\n      }) => {\n        if (loading) return <Loader />;\n        if (error) return `Error! ${error.message}`;\n        return (\n          <Div>\n            <Header mode=\"secondary\">Подарки</Header>\n            <Div className={styles.giftsGroup}>\n              {data.availableGifts.map(\n                (gift) => (\n                  <GiftCart\n                    key={gift.id}\n                    gift={gift}\n                    setPopout={setPopout}\n                    setSnackbar={setSnackbar}\n                    refetchStore={refetch}\n                    refetchMyUserState={refetchMyUserState}\n                  />\n                ),\n              )}\n            </Div>\n            <Header mode=\"secondary\">Групповые подарки</Header>\n            <Div className={styles.giftsGroup}>\n              {data.availableGroupGifts.map(\n                (gift) => (\n                  <GiftCart\n                    key={gift.id}\n                    gift={gift}\n                    setPopout={setPopout}\n                    setSnackbar={setSnackbar}\n                    refetchStore={refetch}\n                    refetchMyUserState={refetchMyUserState}\n                  />\n                ),\n              )}\n            </Div>\n          </Div>\n        );\n      }\n  }\n  </Query>\n);\n\nStore.propTypes = {\n  setPopout: PropTypes.func.isRequired,\n  setSnackbar: PropTypes.func.isRequired,\n  refetchMyUserState: PropTypes.func.isRequired,\n};\n\nexport default Store;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Group, CardGrid, Card, Header,\n} from '@vkontakte/vkui';\n\nconst MessageCard = ({ message }) => {\n  const datetimeCreated = new Date(message.datetimeCreated);\n  return (\n    <Group\n      separator=\"hide\"\n      header={(\n        <Header mode=\"secondary\">\n          {`${message.author.hero.heroClass.name} ${message.author.lastName} ${message.author.firstName}`}\n        </Header>\n      )}\n    >\n      <CardGrid>\n        <Card size=\"m\">\n          <div style={{ padding: 10 }}>\n            {message.text}\n          </div>\n          <div style={{\n            fontSize: 10, color: 'grey', textAlign: 'end', padding: 10,\n          }}\n          >\n            {`${datetimeCreated.getHours()}:${datetimeCreated.getMinutes()}`}\n          </div>\n        </Card>\n      </CardGrid>\n      <br />\n    </Group>\n  );\n};\n\nMessageCard.propTypes = {\n  message: PropTypes.shape({\n    datetimeCreated: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n    author: PropTypes.shape({\n      firstName: PropTypes.string.isRequired,\n      lastName: PropTypes.string.isRequired,\n      hero: PropTypes.shape({\n        heroClass: PropTypes.shape(\n          {\n            name: PropTypes.string,\n          },\n        ).isRequired,\n      }).isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport default MessageCard;\n","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useMutation } from '@apollo/client';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport {\n  FormLayout, Input, Button, Div,\n} from '@vkontakte/vkui';\n\nimport {\n  blabberClient,\n  SEND_MESSAGE,\n} from '../../apiGraphQl';\nimport MessageCard from '../Message/Message';\n\nconst Chatroom = ({\n  userId, chatRoomId, chatroomHistory, subscribeToNewMessages, loadingMore, LoadMoreMessages,\n}) => {\n  const [messageText, setMessageText] = useState('');\n  const [sendMessage] = useMutation(SEND_MESSAGE, { client: blabberClient });\n  const messagesEndRef = useRef(null);\n\n  window.onscroll = () => {\n    if (document.documentElement.scrollTop === 0 && !loadingMore) {\n      LoadMoreMessages();\n    }\n  };\n\n  useEffect(() => {\n    messagesEndRef.current.scrollIntoView({ block: 'end', inline: 'nearest', behavior: 'smooth' });\n    subscribeToNewMessages();\n  }, []);\n\n  return (\n    <div style={{ paddingBottom: 60 }}>\n      {loadingMore && <ScreenSpinner size=\"small\" />}\n      {chatroomHistory.map(\n        (message) => (\n          <MessageCard key={message.id} message={message} />\n        ),\n      )}\n      <Div style={{\n        position: 'fixed',\n        top: 685,\n        zIndex: 12,\n        display: 'flex',\n        background: 'white',\n        width: '100%',\n        padding: 0,\n      }}\n      >\n        <FormLayout style={{ width: '79%' }}>\n          <Input\n            type=\"text\"\n            placeholder=\"Введите сообщение\"\n            value={messageText}\n            onChange={(event) => setMessageText(event.target.value)}\n          />\n        </FormLayout>\n        <Button\n          size=\"xl\"\n          style={{\n            height: 'min-content',\n            width: 110,\n            padding: '0 10px',\n            margin: '12px 0',\n          }}\n          onClick={() => {\n            if (messageText) {\n              sendMessage(\n                {\n                  variables: {\n                    chatroomId: chatRoomId,\n                    authorId: userId,\n                    text: messageText,\n                  },\n                },\n              );\n              setMessageText('');\n            }\n          }}\n        >\n          Отправить\n        </Button>\n      </Div>\n      <div ref={messagesEndRef} />\n    </div>\n  );\n};\n\nChatroom.propTypes = {\n  userId: PropTypes.string.isRequired,\n  chatRoomId: PropTypes.string.isRequired,\n  subscribeToNewMessages: PropTypes.func.isRequired,\n  loadingMore: PropTypes.bool.isRequired,\n  LoadMoreMessages: PropTypes.func.isRequired,\n  chatroomHistory: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default Chatroom;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  View, Panel, PanelHeader, Epic,\n} from '@vkontakte/vkui';\nimport { useQuery, useLazyQuery } from '@apollo/client';\n\nimport {\n  MY_USER, GET_CHATROOM_HISTORY, NEW_MESSAGES_SUBSCRIPTION, blabberClient,\n} from '../../apiGraphQl';\nimport BottomMenu from '../BottomMenu/BottomMenu';\nimport Loader from '../Loader/Loader';\nimport HeroRate from '../HeroRate/HeroRate';\nimport ProfileContent from '../ProfileContent/ProfileContent';\nimport Store from '../Store/Store';\nimport Chatroom from '../Chatroom/Chatroom';\n\nconst GameApp = ({ user }) => {\n  const [activePanel, setActivePanel] = useState(sessionStorage.getItem('activePanel') || 'profile');\n  const [popout, setPopout] = useState(null);\n  const [snackbar, setSnackbar] = useState(null);\n\n  const keepActivePanel = (activePanelName) => {\n    sessionStorage.setItem('activePanel', activePanelName);\n    setActivePanel(activePanelName);\n  };\n\n  const {\n    loading, error, data: myUserData, refetch,\n  } = useQuery(MY_USER, { client: blabberClient });\n\n  const [loadHistory, {\n    called, subscribeToMore, loading: loadingHistory, data: chatroomHistoryData, fetchMore,\n  }] = useLazyQuery(\n    GET_CHATROOM_HISTORY, {\n      client: blabberClient,\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n\n  if (loading || (loadingHistory && called === 1)) return <Loader />;\n  if (error) return `Error! ${error.message}`;\n\n  if (myUserData.myUser && !called) {\n    loadHistory(\n      {\n        variables: {\n          chatroomId: myUserData.myUser.learningGroups[0].id,\n          batchSize: 10,\n          datetimeCursor: '',\n        },\n      },\n    );\n  }\n\n  if (chatroomHistoryData && chatroomHistoryData.chatroomHistory) {\n    return (\n      <Epic tabbar={\n        <BottomMenu activePanel={activePanel} setActivePanel={keepActivePanel} />\n      }\n      >\n        <View activePanel={activePanel} popout={popout}>\n          <Panel id=\"profile\">\n            <PanelHeader separator={false}>Профиль</PanelHeader>\n            <HeroRate hero={myUserData.myUser.hero} />\n            <ProfileContent\n              userPhotoUrl={user.photo_200}\n              hero={myUserData.myUser.hero}\n              setPopout={setPopout}\n              setSnackbar={setSnackbar}\n              refetchMyUserState={refetch}\n            />\n            {snackbar}\n          </Panel>\n          <Panel id=\"chat\">\n            <PanelHeader separator={false}>Чат</PanelHeader>\n            <HeroRate hero={myUserData.myUser.hero} />\n            <Chatroom\n              userId={myUserData.myUser.id}\n              chatRoomId={myUserData.myUser.learningGroups[0].id}\n              chatroomHistory={chatroomHistoryData.chatroomHistory}\n              loadingMore={loadingHistory}\n              LoadMoreMessages={() => fetchMore({\n                variables: {\n                  datetimeCursor: chatroomHistoryData.chatroomHistory[0].datetimeCreated,\n                },\n                updateQuery: (prev, { fetchMoreResult }) => {\n                  if (!fetchMoreResult) return prev;\n                  // eslint-disable-next-line prefer-object-spread\n                  return Object.assign({}, prev, {\n                    chatroomHistory: [...fetchMoreResult.chatroomHistory, ...prev.chatroomHistory],\n                  });\n                },\n              })}\n              subscribeToNewMessages={() => subscribeToMore({\n                document: NEW_MESSAGES_SUBSCRIPTION,\n                variables: { chatroomId: myUserData.myUser.learningGroups[0].id },\n                updateQuery: (prev, { subscriptionData }) => {\n                  if (!subscriptionData.data) return prev;\n                  if (!subscriptionData.data.onNewChatMessage.message) return prev;\n                  const newMessage = subscriptionData.data.onNewChatMessage.message;\n                  // eslint-disable-next-line prefer-object-spread\n                  return Object.assign({}, prev, {\n                    chatroomHistory: [...prev.chatroomHistory, newMessage],\n                  });\n                },\n              })}\n            />\n          </Panel>\n          <Panel id=\"store\">\n            <PanelHeader separator={false}>Магазин</PanelHeader>\n            <HeroRate hero={myUserData.myUser.hero} />\n            <Store\n              setPopout={setPopout}\n              setSnackbar={setSnackbar}\n              refetchMyUserState={refetch}\n            />\n            {snackbar}\n          </Panel>\n        </View>\n      </Epic>\n    );\n  }\n\n  return null;\n};\n\nGameApp.propTypes = {\n  user: PropTypes.shape({\n    photo_200: PropTypes.string,\n  }).isRequired,\n};\n\nexport default GameApp;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './error.module.scss';\nimport icon from './bug.png';\n\nconst ErrorIndicator = ({ message }) => (\n  <div className={styles.error}>\n    <div>\n      <img src={icon} alt=\"error icon\" />\n    </div>\n    <div className={styles.text}>\n      Что-то пошло не так. Попробуйте перезагрузить страницу или вернуться сюда позже.\n    </div>\n    <div className={styles.details}>\n      {`подробнее: ${message}`}\n    </div>\n  </div>\n);\n\nErrorIndicator.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ErrorIndicator;\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport { useLocation } from 'react-router-dom';\nimport { ApolloProvider } from '@apollo/react-hooks';\n\nimport { blabberClient, GET_TOKENS } from './apiGraphQl';\nimport BlabberRestAPI from './api';\nimport NewUser from './components/NewUser/NewUser';\nimport GameApp from './components/GameApp/GameApp';\nimport Error from './components/Error/Error';\nimport Loader from './components/Loader/Loader';\n\nconst userStatusesMapper = {\n  400: 'error',\n  401: 'applied',\n  403: 'unknown_user',\n};\n\nconst App = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('нет дополнительных данных');\n  const location = useLocation();\n  const [authStr] = useState(location.search);\n  const [status, setStatus] = useState('');\n  const [isKnownUser, setIsKnownUser] = useState(false);\n  const [user, setUser] = useState(null);\n  const [signedPassword, setSignedPassword] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const userFromVK = await bridge.send('VKWebAppGetUserInfo', {});\n        setUser(userFromVK);\n      } catch (err) {\n        setErrorMessage(err.message);\n        setError(true);\n        // eslint-disable-next-line no-console\n        console.log(err);\n      }\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    const api = new BlabberRestAPI();\n    api.getAuth(authStr)\n      .then((res) => {\n        if (res.code === 200) {\n          res.body.then(\n            (result) => {\n              setSignedPassword(result.password);\n              setLoading(false);\n            },\n            () => {\n              setError(true);\n              setLoading(false);\n            },\n          );\n        }\n        setIsKnownUser(res.code === 200);\n        setStatus(userStatusesMapper[res.code]);\n      })\n      .catch((err) => {\n        setErrorMessage(err.message);\n        setError(true);\n        setLoading(false);\n        // eslint-disable-next-line no-console\n        console.log(err);\n      });\n  }, [authStr]);\n\n  const obtainTokens = () => (\n    blabberClient.mutate({\n      mutation: GET_TOKENS,\n      variables: { username: user.id, password: signedPassword },\n      errorPolicy: 'all', // Значит, что в результате ответа мы получим поле с ошибками\n    }).then(\n      (result) => {\n        sessionStorage.setItem('token', result.data.tokenAuth.token);\n      },\n      () => setError(true),\n    )\n  );\n\n  if (loading) return <Loader />;\n  if (error) return <Error message={errorMessage} />;\n\n  if (!isKnownUser && user && status) {\n    return (\n      <NewUser\n        user={user}\n        status={status}\n        setStatus={setStatus}\n        setLoading={setLoading}\n        setError={setError}\n      />\n    );\n  }\n  if (isKnownUser && user && signedPassword) {\n    if (!sessionStorage.getItem('token')) {\n      obtainTokens();\n    }\n    return (\n      <ApolloProvider client={blabberClient}>\n        <GameApp user={user} />\n      </ApolloProvider>\n    );\n  }\n\n  return null;\n};\n\nexport default App;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n\n// Init VK  Mini App\nbridge.send('VKWebAppInit');\n\nReactDOM.render(\n  <Router>\n    <Route exact path=\"/\"><App /></Route>\n  </Router>,\n  document.getElementById('root'),\n);\nif (process.env.NODE_ENV === 'development') {\n  import('./eruda').then(() => {});\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"roundedContainer\":\"profileContent_roundedContainer__1Pc3K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"giftContainer\":\"giftCart_giftContainer__2ta5J\",\"giftContainerImg\":\"giftCart_giftContainerImg__1Be7t\",\"isTooExpensive\":\"giftCart_isTooExpensive__3DJ2T\",\"giftInfoPanel\":\"giftCart_giftInfoPanel__NxsGk\",\"coin\":\"giftCart_coin__giqUp\"};"],"sourceRoot":""}